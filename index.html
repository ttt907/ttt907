<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>コード出力</title>
<style>
html, body {
margin: 0;
padding: 0;
width: 100%;
height: 100%;
font-family: 'Helvetica Neue', sans-serif;
display: flex;
flex-direction: column;
align-items: center;
justify-content: space-around;
text-align: center;
background: linear-gradient(135deg, #f6f6f6, #d9d9d9);
overflow: hidden;
}

h1 {
font-size: calc(8vw * 0.5); /* タイトル0.5倍 */
margin: 0;
color: #333;
}

.button-container {
display: flex;
flex-direction: column;
justify-content: space-around;
gap: calc(2vh * 0.5); /* ボタン間隔0.5倍 */
width: 80%;
max-width: 500px;
flex: 1;
}

button {
flex: 1;
font-size: calc(5vw * 0.5); /* ボタン文字0.5倍 */
margin: calc(1vh * 0.5) 0;
border-radius: 12px;
border: none;
cursor: pointer;
color: #fff;
background: #4a90e2;
box-shadow: 0 4px 6px rgba(0,0,0,0.2);
touch-action: manipulation;
}

button:active {
transform: scale(0.97);
}

#output {
font-size: calc(10vw * 0.5); /* コード表示0.5倍 */
font-weight: bold;
color: #111;
width: 100%;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

#output p {
display: inline-block;
margin: 0 calc(2vw * 0.5);
}
</style>
</head>
<body>
<h1>コード出力</h1>

<div class="button-container">
<button id="major">maj</button>
<button id="majorMinor">maj + min</button>
<button id="majorMinor7">maj + min + 7</button>
<button id="majorMinor7Sharp">maj + min + 7 + ♯</button>
<button id="allModes">maj + min + 7 + ♯ + ♭</button>
</div>

<div id="output"></div>

<script>
const modeLists = {
major: ["C","D","E","F","G","A","B"],
majorMinor: ["C","D","E","F","G","A","B",
"Cm","Dm","Em","Fm","Gm","Am","Bm"],
majorMinor7: ["C","D","E","F","G","A","B",
"Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7",
"Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7"],
majorMinor7Sharp: ["C","D","E","F","G","A","B",
"Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7",
"Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7",
"C♯","D♯","F♯","G♯","A♯",
"C♯m","D♯m","F♯m","G♯m","A♯m",
"C♯7","D♯7","F♯7","G♯7","A♯7",
"C♯m7","D♯m7","F♯m7","G♯m7","A♯m7"],
allModes: ["C","D","E","F","G","A","B",
"Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7",
"Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7",
"C♯","D♯","F♯","G♯","A♯",
"C♯m","D♯m","F♯m","G♯m","A♯m",
"C♯7","D♯7","F♯7","G♯7","A♯7",
"C♯m7","D♯m7","F♯m7","G♯m7","A♯m7",
"D♭","E♭","G♭","A♭","B♭",
"D♭m","E♭m","G♭m","A♭m","B♭m",
"D♭7","E♭7","G♭7","A♭7","B♭7",
"D♭m7","E♭m7","G♭m7","A♭m7","B♭m7"]
};

function shuffle(array) {
let arr = [...array];
for (let i = arr.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[arr[i], arr[j]] = [arr[j], arr[i]];
}
return arr;
}

function getRandomCodes(list) {
const outputArr = shuffle(list).slice(0,5);
display(outputArr);
}

function display(codesArr) {
const outputDiv = document.getElementById("output");
outputDiv.innerHTML = codesArr.map(c => `<p>${c}</p>`).join("");
}

function registerButton(id, list) {
const btn = document.getElementById(id);
btn.onclick = () => getRandomCodes(list);
btn.ontouchstart = () => getRandomCodes(list);
}

registerButton("major", modeLists.major);
registerButton("majorMinor", modeLists.majorMinor);
registerButton("majorMinor7", modeLists.majorMinor7);
registerButton("majorMinor7Sharp", modeLists.majorMinor7Sharp);
registerButton("allModes", modeLists.allModes);
</script>
</body>
</html>
