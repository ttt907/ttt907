<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>コード出力</title>
<style>
body {
font-family: 'Helvetica Neue', sans-serif;
text-align: center;
padding: 20px;
background: linear-gradient(135deg, #f6f6f6, #d9d9d9);
min-height: 100vh;
display: flex;
flex-direction: column;
justify-content: flex-start;
align-items: center;
}

h1 {
font-size: 32px;
margin-bottom: 20px;
color: #333;
}

.button-container {
display: flex;
flex-wrap: wrap;
justify-content: center;
margin-bottom: 30px;
gap: 10px;
}

button {
padding: 12px 20px;
font-size: 18px;
border-radius: 12px;
border: none;
cursor: pointer;
transition: all 0.2s ease;
color: #fff;
background: #4a90e2;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
touch-action: manipulation; /* iPhone即反応 */
}

button:hover {
background: #357abd;
transform: translateY(-2px);
}

#output {
font-size: 48px;
font-weight: bold;
line-height: 1.5;
overflow-x: auto;
white-space: nowrap; /* 横並び */
max-width: 100%;
color: #111;
}

#output p {
display: inline-block;
margin: 0 15px; /* コード間の余白 */
}
</style>
</head>
<body>
<h1>コード出力</h1>

<div class="button-container">
<button id="major">メジャーのみ</button>
<button id="majorMinor">メジャー＋マイナー</button>
<button id="majorMinor7">メジャー＋マイナー＋7th</button>
<button id="majorMinor7Sharp">メジャー＋マイナー＋7th＋シャープ</button>
<button id="allModes">メジャー＋マイナー＋7th＋シャープ＋フラット</button>
</div>

<div id="output"></div>

<script>
const modeLists = {
major: ["C","D","E","F","G","A","B"],
majorMinor: ["C","D","E","F","G","A","B","Cm","Dm","Em","Fm","Gm","Am","Bm"],
majorMinor7: ["C","D","E","F","G","A","B","Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7","Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7"],
majorMinor7Sharp: ["C","D","E","F","G","A","B","Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7","Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7",
"C#","D#","F#","G#","A#","C#m","D#m","F#m","G#m","A#m","C#7","D#7","F#7","G#7","A#7",
"C#m7","D#m7","F#m7","G#m7","A#m7"],
allModes: ["C","D","E","F","G","A","B","Cm","Dm","Em","Fm","Gm","Am","Bm",
"C7","D7","E7","F7","G7","A7","B7","Cm7","Dm7","Em7","Fm7","Gm7","Am7","Bm7",
"C#","D#","F#","G#","A#","C#m","D#m","F#m","G#m","A#m","C#7","D#7","F#7","G#7","A#7",
"C#m7","D#m7","F#m7","G#m7","A#m7",
"D♭","E♭","G♭","A♭","B♭","D♭m","E♭m","G♭m","A♭m","B♭m",
"D♭7","E♭7","G♭7","A♭7","B♭7","D♭m7","E♭m7","G♭m7","A♭m7","B♭m7"]
};

let lastOutput = [];

// Fisher-Yatesシャッフル
function shuffle(array) {
let arr = [...array];
for (let i = arr.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[arr[i], arr[j]] = [arr[j], arr[i]];
}
return arr;
}

function getRandomCodes(list) {
lastOutput = shuffle(list).slice(0,5);
display(lastOutput);
}

function display(codesArr) {
const outputDiv = document.getElementById("output");
outputDiv.innerHTML = codesArr.map(c => `<p>${c}</p>`).join("");
}

// ボタン登録（iPhone即反応対応）
function registerButton(id, list) {
const btn = document.getElementById(id);
btn.onclick = () => getRandomCodes(list);
btn.ontouchstart = () => getRandomCodes(list);
}

registerButton("major", modeLists.major);
registerButton("majorMinor", modeLists.majorMinor);
registerButton("majorMinor7", modeLists.majorMinor7);
registerButton("majorMinor7Sharp", modeLists.majorMinor7Sharp);
registerButton("allModes", modeLists.allModes);

</script>
</body>
</html>
